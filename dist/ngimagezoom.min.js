!function(o,e,n){"use strict";n.module("ngImageZoom",[]),n.module("ngImageZoom").run(["$templateCache",function(o){o.put("ngimagezoom.html",'<div class="original">\n    <img ng-src="{{src}}"/>\n</div>\n<div class="zoomed">\n    <img/>\n</div>\n')}]),n.module("ngImageZoom").directive("ngImageZoom",function(){function o(o,e,t){function i(e,n){var t=o.markWidth,i=o.markHeight,s=e-t/2,r=n-i/2;g.css("left",s+"px").css("top",r+"px"),o.$broadcast("mark:moved",[s,r,t,i,a[0].height,a[0].width])}function s(e,n,t,i,s,r){var m=o.zoomLvl;o.$apply(function(){d.css("height",m*i+"px").css("width",m*t+"px"),l.attr("src",o.src).css("height",m*s+"px").css("width",m*r+"px").css("left",-m*e+"px").css("top",-m*n+"px")})}function r(o){u=u||o.target.getBoundingClientRect();var e=o.clientX-u.left,n=o.clientY-u.top;return{X:e,Y:n}}var m=n.element,c=m(e[0].querySelector(".original")),a=c.find("img"),d=m(e[0].querySelector(".zoomed")),l=d.find("img"),g=m("<div></div>").addClass("mark").css("position","absolute").css("height",o.markHeight+"px").css("width",o.markWidth+"px");e.append(g),e.on("mouseenter",function(o){g.removeClass("hide");var e=r(o);i(e.X,e.Y)}).on("mouseleave",function(o){g.addClass("hide")}).on("mousemove",function(o){var e=r(o);i(e.X,e.Y)}),o.$on("mark:moved",function(o,e){s.apply(this,e)});var u;t.$observe("ngSrc",function(e){o.src=t.ngSrc},!0),t.$observe("zoomLvl",function(e){o.zoomLvl=e},!0)}return{restrict:"EA",scope:{markHeight:"@markHeight",markWidth:"@markWidth",src:"@src",zoomLvl:"@zoomLvl"},templateUrl:"ngimagezoom.html",link:o}})}(window,document,window.angular);